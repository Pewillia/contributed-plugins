/*! Plugin swiper: 0.1.3 - "1bdd9fc993137135aa451da2702644cc9b699112" - 2021-05-11T19:52:38.473Z */(()=>{var t={204:()=>{},607:(t,e)=>{"use strict";var i=function(){function t(){this.layerNb=0,this.layerNames=[],this.closureFunc=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}}return t.prototype.init=function(t){var e=this;this.mapApi=t,this.config=this._RV.getConfig("plugins").swiper,this.config.language=this._RV.getCurrentLang(),this.mapApi.layersObj.layerAdded.subscribe((function(t){e.config.layers.find((function(i){i.id===t.id&&(e.layerNb++,e.layerNames.push(t.name))}))})),this._button=this.mapApi.mapI.addPluginButton("Swiper",this.onMenuItemClick()),this._button.isActive=this.config.open=!0,window.RAMP.GAPI.esriLoadApiClasses([["esri/dijit/LayerSwipe","layerSwipe"]]).then((function(t){var i=setInterval((function(){e.layerNb===e.config.layers.length&&(e.setSwiper(t,e.config),clearInterval(i))}),500)}))},t.prototype.onMenuItemClick=function(){var t=this;return function(){t._button.isActive=!t._button.isActive;var e=t.mapApi.mapDiv.find("#rv-swiper-div ")[0];t._button.isActive?(e.style.display="block",t.setButtonState(!0)):(e.style.display="none",t.setButtonState(!1))}},t.prototype.setButtonState=function(t){$(".main-appbar button").each((function(e,i){"toc-button"===i.getAttribute("rv-help")&&(i.disabled=t)}))},t.prototype.setSwiper=function(t,e){for(var i=[],n=e.layers.length;n--;)i.push(this.mapApi.esriMap.getLayer(e.layers[n].id));this.mapApi.mapDiv.find("rv-shell").find(".rv-esri-map").prepend('<div id="rv-swiper-div"></div>');var r=new t.layerSwipe({type:e.type,map:this.mapApi.esriMap,layers:i,left:this.getWidth()/2},"rv-swiper-div"),s=this;r.on("load",(function(){var t=s.mapApi.mapDiv.find("#rv-swiper-div .vertical")[0];t.tabIndex=-3,t.addEventListener("keydown",s.closureFunc((function(t,e,i,n){var r=parseInt(e.style.left),o=parseInt(s.mapApi.mapDiv.find("#rv-swiper-div").width())-10;37===n.keyCode&&r>=0?r=r>i?r-=i:0:39===n.keyCode&&r<=o&&(r=r<=o-i?r+=i:o),e.style.left=String(r+"px"),t.swipe()}),r,t,e.keyboardOffset)),"fr-CA"===s._RV.getCurrentLang()&&(t.title="Faites glisser pour voir les couches sous-jacentes"),t.title+="\r\n- "+s.layerNames.join(",\r\n- ")})),r.startup()},t.prototype.getWidth=function(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)},t}();window.swiper=i}},e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";i(607),i(204)})()})();