/*! Plugin swiper: 0.1.3 - "ade2156ba5e775e0840d568701b799e5a0749d22" - 2021-05-19T20:24:50.456Z */(()=>{var e={204:()=>{},607:(e,t)=>{"use strict";var i=function(){function e(){this.layerNb=0,this.layerNames=[],this.closureFunc=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}}return e.prototype.init=function(t){var i=this;this.mapApi=t,this.config=this._RV.getConfig("plugins").swiper,this.config.language=this._RV.getCurrentLang(),this.layerNb=0,this.layerNames=[],this.mapApi.layersObj.layerAdded.subscribe((function(e){i.config.layers.find((function(t){t.id===e.id&&(i.layerNb++,i.layerNames.push(e.name)),console.log("num layers,names,",i.layerNb,i.layerNames)}))}));this.mapApi.mapDiv.find("#rv-swiper-div ")[0];0!==this.mapApi.mapDiv.find("rv-shell").find(".rv-esri-map").find("rv-swiper-div ").length&&console.log(" 1111 swiper widget exists"),this._button=this.mapApi.mapI.addPluginButton(e.prototype.translations[this._RV.getCurrentLang()].menu,this.onMenuItemClick()),this._button.isActive=this.config.open=!0,window.RAMP.GAPI.esriLoadApiClasses([["esri/dijit/LayerSwipe","layerSwipe"]]).then((function(e){var t=setInterval((function(){i.mapApi.mapDiv.find("rv-shell").find(".rv-esri-map").prepend('<div id="rv-swiper-div"></div>'),i.layerNb===i.config.layers.length&&(i.setSwiper(e,i.config,i.swipeWidget),clearInterval(t))}),500)})),console.log("running widget")},e.prototype.destroy=function(){this.swipeWidget.destroy(),console.log("something called destroy")},e.prototype.onMenuItemClick=function(){var e=this;return function(){e._button.isActive=!e._button.isActive,e.mapApi.mapDiv.find("#rv-swiper-div ")[0].style.display=e._button.isActive?"block":"none"}},e.prototype.setSwiper=function(t,i,r){for(var n=[],o=i.layers.length;o--;)n.push(this.mapApi.esriMap.getLayer(i.layers[o].id));null!==this.mapApi.mapDiv.find("#rv-swiper-div ")[0]&&console.log(" swiper widget exists");try{var s=new t.layerSwipe({type:i.type,map:this.mapApi.esriMap,layers:n,top:document.body.scrollHeight/2,left:this.getWidth()/2},"rv-swiper-div");r=s,this.swipeWidget=s,s.enabled&&console.log("2222 swipwewidget loaded ");var p=this;s.on("load",(function(){var t=p.mapApi.mapDiv.find("#rv-swiper-div ."+s.type)[0];console.log("2222 loaded swipewidget"),t.tabIndex=-3,t.addEventListener("keydown",p.closureFunc((function(e,t,r,n){if("vertical"===i.type){var o=parseInt(t.style.left),s=parseInt(p.mapApi.mapDiv.find("#rv-swiper-div").width())-10;37===n.keyCode&&o>=0?o=o>r?o-=r:0:39===n.keyCode&&o<=s&&(o=o<=s-r?o+=r:s),t.style.left=String(o+"px")}else if("horizontal"===i.type){o=parseInt(t.style.top);var a=parseInt(p.mapApi.mapDiv.find("#rv-swiper-div").height())-10;38===n.keyCode&&o>=0?o=o>r?o-=r:0:40===n.keyCode&&o<=a&&(o=o<=a-r?o+=r:a),t.style.top=String(o+"px")}e.swipe()}),s,t,i.keyboardOffset)),t.title=e.prototype.translations[p.config.language].tooltipp,t.title+="\r\n- "+p.layerNames.join(",\r\n- ")})),s.startup()}catch(e){console.log("try catch error is ",e),r.destroy(),console.log("try catch error is 2")}},e.prototype.getWidth=function(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)},e}();i.prototype.translations={"en-CA":{tooltipp:"Drag to see underlying layer",menu:"Swiper"},"fr-CA":{tooltipp:"Faites glisser pour voir les couches sous-jacentes",menu:"Glisseur"}},window.swiper=i}},t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";i(607),i(204)})()})();